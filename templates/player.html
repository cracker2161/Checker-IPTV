{% extends 'base.html' %}
{% block content %}
<div class="row">
  <div class="col-md-4">
    <h3>Available Channels</h3>
    <ul class="list-group">
      {% for channel in channels %}
      <li class="list-group-item">
        <a href="#" onclick="loadChannel('{{ channel.url }}')">{{ channel.name }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-md-8">
    <h3>Video Player</h3>
    <video id="iptvPlayer" class="w-100" controls>
      <source id="streamSource" src="" type="application/x-mpegURL">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

<script>
  function loadChannel(url) {
    var player = document.getElementById('iptvPlayer');
    var source = document.getElementById('streamSource');
    source.src = url;
    player.load();
    player.play();
  }
</script>
{% endblock %}
